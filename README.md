# Факультетские часы Хогвартса

Структура репозитория:

- client_app - клиентское приложение которое работает через протокол gRPC. Протестировано на Android Emulator ( Pixel 4 API 31), Ubuntu 22.04.
  
- proto - файлы protobuf и сгенерированные dart файлы, для использования на стороне клиента и сервера.
  
- service  - сервер, использует так же gRPC, хранилище моковое(не успел добавить нормальное хранилище).

---

## client_app

Использование gRPC позволяет стримить значения от сервера к клиентами и наоборот.
Таким образом в клиентских приложениях, изменение очков в рамках одного факультета на разных устройстах отображаются сразу на всех устройствах.

На домашней страние оборажаются, кнопки входа в школу (Hogwarts) и вход в режим Дамблдора(Dambldore).

На страние Hogwarts отображаются филиалы. Так же имеется возможность удалить филиал, через свайп влево (dismissible) и  добавить по кнопке +. Отображение филиалов тоже основаны на стримах, т.е. создание и удаление филиала, приведет к изменению отображения на всех устройствах.

После выбора филиала, отображаются факультеты с сответствующими баллами и чарт барами. По нажатию на факультет переходим на отдельную страницу, где мы можем изменить очки факультета.

В режиме Дамблдора отображаются время и информация об устройствах, которые заходили на страницу школы, так же работает на стримах.

---
Инструкция:\
0. Скачать репозиторий.

1. Перейти в папку скаченного репозитория, запустить терминал и вызвать команду

>cd ./service/ && dart bin/service.dart

1. Перейти в папку скаченного репозитория, запустить терминал и вызвать команду (отдельный терминал)

- для linux
  
>cd ./client_app/ flutter run --device-id=linux

- для android emulator (его следует запустить, причем есть баг, сервер иногда приходится запускать раньше, чем сам эмулятор)
  
>cd ./client_app/ flutter run --device-id=emulator

---

***Web*** версия не работает, можно поднять виртуальный сервер через Envoy proxy, но не хватило времени

---
В качестве state managment используются bloc and cubit.

---
Чего хотелось бы добавить/доделать:

- отрефакторить код и привести к Clean Architectur
- GetIt или DI container для IoC.
- хранилище на строне сервера
- локализацию
- web версию
- сплеш скрин и иконку приложения
